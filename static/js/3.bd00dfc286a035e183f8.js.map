{"version":3,"sources":["webpack:///./src/util/wallet.js","webpack:///src/views/pledge/index.vue","webpack:///./src/views/pledge/index.vue?7140","webpack:///./src/views/pledge/index.vue"],"names":["Vue","prototype","isAllowance","token","index","_this","this","currentToken","web3","eth","Contract","Net","ERC20abi","console","log","address","minContact","methods","allowance","call","from","then","res","tokens","isAllow","getBalance","balanceOf","balance","totalPledge","total","mintContract","net","Mintabi","pledge","data","drawer","direction","amount","currentCoin","popBalance","pid","output","totalIncome","myPledge","myIncome","invested","HT","canWithdraw","HUSD","HBTC","BAGS","onlyIn","showPool","vpop","mounted","$getAddress","setTimeout","getUserInfo","lookCanWithdraw","numByPerDay","onWithDraw","value","BigNumber","multipliedBy","pow","withdraw","send","showDraw","all","handleClose","showPop","deposit","approve","userInfo","rewardDebt","stringify_default","pendingHog","views_pledge","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inactive-color","active-color","model","callback","$$v","expression","_v","_l","directives","name","rawName","key","type","justify","span","_s","gutter","on","click","$event","_e","domProps","input","target","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.bd00dfc286a035e183f8.js","sourcesContent":["import Vue from 'vue'\r\nimport Net from \"@/assets/net.js\";\r\n\r\n\r\n// function onWithDraw(index,amount){\r\n//     //提币或撤回\r\n//    var _this = this;\r\n//    var value=_this.BigNumber(amount).multipliedBy(_this.BigNumber(10).pow(18));\r\n//    console.log(\"index:\"+index,\"value:\"+value)\r\n//    mintContract.methods\r\n//      .withdraw(index,value)\r\n//      .send({ from: _this.address })\r\n//      .then((res)=>{\r\n//         _this.getUserInfo(index)\r\n//      })\r\n//  };\r\n\r\n//  function deposit(index) {\r\n//     //质押\r\n//     var _this = this;\r\n//     var value=_this.BigNumber(_this.amount).multipliedBy(_this.BigNumber(10).pow(18));\r\n//     console.log(\"index:\"+index,\"value:\"+value)\r\n//     mintContract.methods\r\n//       .deposit(index,value)\r\n//       .send({ from: _this.address })\r\n//       .then((res)=>{\r\n//          _this.getUserInfo(index)\r\n//          _this.vpop = false;\r\n//       })\r\n//   }\r\n\r\n//   function getUserInfo(index){ //我的质押和收益\r\n//     var _this = this;\r\n//     mintContract.methods\r\n//       .userInfo(index,_this.address)\r\n//       .call({from:_this.address})\r\n//       .then(function (res) {\r\n//         _this.tokens[index].myPledge= res.amount / 1e18\r\n//         _this.tokens[index].myIncome =res.rewardDebt  / 1e18\r\n//          console.log(index+\"池子的信息：\"+JSON.stringify(res))\r\n//       });\r\n//   }\r\n\r\n  function isAllowance(token,index) { //查询是否授权\r\n    var _this = this;\r\n    var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\r\n    console.log(_this.address,Net.minContact)\r\n    currentToken.methods\r\n      .allowance(_this.address,Net.minContact)\r\n      .call({from:_this.address})\r\n      .then(function (res) { \r\n          res > 0?_this.tokens[index].isAllow = false : _this.tokens[index].isAllow = true\r\n          console.log(token+\"授权数量：\"+res /1e18)\r\n      });\r\n  }\r\n\r\n\r\n\r\n  function getBalance(token,index){ //获取余额\r\n    var _this = this;\r\n    var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\r\n    currentToken.methods\r\n      .balanceOf(_this.address)\r\n      .call({from:_this.address})\r\n      .then(function (res) {\r\n        _this.tokens[index].balance = res / 1e18\r\n         console.log(token+\"余额：\"+res / 1e18)\r\n      });\r\n  }\r\n\r\n  function totalPledge(token,index){ //获取总质押\r\n    var _this = this;\r\n    var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\r\n    currentToken.methods\r\n      .balanceOf(Net.minContact)\r\n      .call({from:_this.address})\r\n      .then(function (res) {\r\n        _this.tokens[index].total = res / 1e18;\r\n         console.log(token+\"总质押：\"+res / 1e18)\r\n      });\r\n  }\r\n\r\n  // function lookCanWithdraw(index){ //查看可提取\r\n  //   var _this = this;\r\n   \r\n  //    mintContract.methods\r\n  //     .pendingHog(index,_this.address)\r\n  //     .call({from:_this.address})\r\n  //     .then(function (res) {\r\n  //       _this.tokens[index].canWithdraw = res / 1e18;\r\n  //        console.log(index+\"池可提取：\"+res / 1e18)\r\n  //     });\r\n  // }\r\n\r\n\r\n  Vue.prototype.isAllowance = isAllowance;\r\n  Vue.prototype.getBalance = getBalance;\r\n  Vue.prototype.totalPledge = totalPledge;\n\n\n// WEBPACK FOOTER //\n// ./src/util/wallet.js","<template>\n  <div class=\"lp_page\">\n    <div class=\"lp_switch\">\n      <el-switch\n        v-model=\"onlyIn\"\n        inactive-color=\"#BECBD2\"\n        active-color=\"#56C9C2\"\n      ></el-switch>\n      只看已投\n    </div>\n\n    <div class=\"hot_lp_item\" v-for=\"(value, index) in tokens\" :key=\"index\" v-show=\"value.invested || !onlyIn\">\n      <div class=\"new\"></div>\n      <el-row type=\"flex\" justify=\"space-between\">\n        <el-col :span=\"18\" class=\"title\">{{ value.token }}</el-col>\n        <el-col :span=\"6\" class=\"col_right\">\n          <div class=\"icon\"></div>\n        </el-col>\n      </el-row>\n      <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">总质押：</el-col>\n        <el-col :span=\"12\" class=\"col_right\">\n          {{ value.total }} {{ value.token }}\n        </el-col>\n      </el-row>\n      <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">日产量：</el-col>\n        <el-col :span=\"12\" class=\"col_right\">{{ value.output }}</el-col>\n      </el-row>\n      <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">当前用户总收益：</el-col>\n        <el-col :span=\"12\" class=\"col_right\">{{ value.totalIncome }}%</el-col>\n      </el-row>\n      <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">我的质押：</el-col>\n        <el-col :span=\"12\" class=\"col_right\">{{ value.myPledge }} {{ value.token }}</el-col>\n      </el-row>\n      <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">我的收益：</el-col>\n        <el-col :span=\"12\" class=\"col_right\">{{ value.myIncome }} HOT</el-col>\n      </el-row>\n\n       <el-row type=\"flex\" justify=\"space-between\" class=\"row\">\n        <el-col :span=\"12\" class=\"col_left\">可提取</el-col>\n        <el-col :span=\"12\" class=\"col_right\">{{ value.canWithdraw }} HOT</el-col>\n      </el-row>\n\n      <el-row type=\"flex\" :gutter=\"20\" justify=\"space-between\">\n        <el-col>\n          <div class=\"button button_border\" @click=\"onWithDraw(index,value.myPledge)\">撤回</div>\n        </el-col>\n        <el-col>\n          <!-- <div class=\"button button_border\" @click=\"deposit(index)\">质押</div> -->\n          <div class=\"button button_border\"  @click=\"showPop(index,value.token)\">质押</div>\n        </el-col>\n      </el-row>\n\n      <div class=\"button button_fill\" @click=\"approve(value.token,value.address)\" v-if=\"value.isAllow\">授权HOT-HBTC</div>\n      <div  class=\"button button_fill\" @click=\"onWithDraw(index,1)\">领取收益</div>\n\n      <el-row type=\"flex\" justify=\"space-between\">\n        <el-col :span=\"16\" class=\"can_use_left\"\n          >可用：{{ value.balance }}</el-col\n        >\n      </el-row>\n    </div>\n    <!--列表结束-->\n\n   <div class=\"shadow\" v-show=\"vpop\">\n       \n\n      <div class=\"my_form\">\n        <div class=\"title\">质押 {{currentCoin}} <button @click=\"handleClose\">关闭</button></div>\n        <div class=\"input_box\">\n          <input type=\"number\"  v-model=\"amount\" />\n          <span>{{currentCoin}}</span>\n          <span class=\"btn_all\"  @click=\"all\">全部</span><!--全部-->\n        </div>\n\n        <div class=\"balance\">\n         余额：\n          <span class=\"red\">{{popBalance}} {{currentCoin}}</span>\n        </div><!--质押-->\n\n      \n\n\t\t<div class=\"sub_btn\">\n\t\t\t\n\t\t\t<button class=\"common_btn\" @click=\"deposit(index)\">质押</button>\n\t\t</div>\n\n      </div>\n   </div>\n\n  </div>\n</template>\n\n<script>\nimport Net from \"@/assets/net.js\";\nimport \"../../util/wallet.js\"\n var mintContract = new web3.eth.Contract(Net.Mintabi, Net.minContact);\n\nexport default {\n  data() {\n    return {\n      drawer: false,\n      direction: 'btt',\n      amount:\"\",\n      currentCoin:\"\",\n      popBalance:\"--\",\n      index:0,\n      tokens: [\n        {\n          pid: 0,\n          token: \"HT\",\n          total: \"--\",\n          output:\"--\",\n          totalIncome: 12,\n          myPledge: \"--\",\n          myIncome: \"--\",\n          balance: \"--\",\n          invested:true,\n          address:Net.HT,\n          isAllow:false,\n          canWithdraw:\"--\",\n        },\n        {\n          pid: 1,\n          token: \"HUSD\",\n          total: \"--\",\n          output: \"--\",\n          totalIncome: 12,\n          myPledge: \"--\",\n          myIncome: \"--\",\n          balance: \"--\",\n          invested:true,\n          address:Net.HUSD,\n           isAllow:false,\n           canWithdraw:\"--\",\n        },\n        {\n          pid: 2,\n          token: \"HBTC\",\n          total:\"--\",\n          output:\"--\",\n          totalIncome: 12,\n          myPledge: \"--\",\n          myIncome: \"--\",\n          balance: \"--\",\n          invested:false,\n          address:Net.HBTC,\n          isAllow:false,\n          canWithdraw:\"--\",\n        },\n        {\n          pid: 3,\n          token: \"BAGS\",\n          total: \"--\",\n          output: \"--\",\n          totalIncome: 12,\n          myPledge: \"--\",\n          myIncome: \"--\",\n          balance: \"--\",\n          invested:false,\n          address:Net.BAGS,\n           isAllow:false,\n           canWithdraw:\"--\",\n        },\n      ],\n      onlyIn: false,\n      showPool:true,\n      address:\"\",\n      vpop:false,\n    };\n  },\n   mounted() {\n    var _this =this;\n    _this.$getAddress();  \n    setTimeout(function () {\n\n     _this.isAllowance(\"HT\",0);\n     _this.isAllowance(\"HUSD\",1);\n     _this.isAllowance(\"HBTC\",2);\n     _this.isAllowance(\"BAGS\",3);\n     _this.getUserInfo(0);\n     _this.getUserInfo(1);\n     _this.getUserInfo(2);\n     _this.getUserInfo(3);\n     _this.getBalance(\"HT\",0);\n     _this.getBalance(\"HUSD\",1)\n     _this.getBalance(\"HBTC\",2)\n     _this.getBalance(\"BAGS\",3);\n     _this.totalPledge(\"HT\",0);\n     _this.totalPledge(\"HUSD\",1);\n     _this.totalPledge(\"HBTC\",2);\n     _this.totalPledge(\"BAGS\",3);\n\n     _this.lookCanWithdraw(0);\n     _this.lookCanWithdraw(1);\n     _this.lookCanWithdraw(2);\n     _this.lookCanWithdraw(3);\n\n  \n     _this.numByPerDay(\"HT\",0);\n     _this.numByPerDay(\"HUSD\",1)\n     _this.numByPerDay(\"HBTC\",2)\n     _this.numByPerDay(\"BAGS\",3);\n     \n\n    }, 1000)\n    \n\n  },\n  methods:{\n    onWithDraw(index,amount){\n       //提币或撤回\n      var _this = this;\n      var value=new BigNumber(amount).multipliedBy(BigNumber(10).pow(18));\n      console.log(\"index:\"+index,\"value:\"+value)\n      mintContract.methods\n        .withdraw(index,value)\n        .send({ from: _this.address })\n        .then((res)=>{\n           _this.getUserInfo(index)\n        })\n    },\n    showDraw(){\n      this.drawer = true\n    },\n    all(){\n      this.amount = this.popBalance\n    },\n    handleClose () {\n      this.vpop = false;\n      this.index = \"\";\n      this.currentCoin = \"\";\n      this.popBalance =\"\"\n    },\n    showPop(index,token){\n      var _this = this;\n      this.vpop = true;\n      this.index = index;\n      this.currentCoin = token;\n      this.popBalance =_this.tokens[index].balance\n\n      console.log(\"index:\"+this.index+\"balance:\"+this.popBalance)\n    },\n    deposit(index) {\n      //质押\n      var _this = this;\n      var value=new BigNumber(_this.amount).multipliedBy(BigNumber(10).pow(18));\n      console.log(\"index:\"+index,\"value:\"+value)\n      mintContract.methods\n        .deposit(index,value)\n        .send({ from: _this.address })\n        .then((res)=>{\n           _this.getUserInfo(index)\n           _this.vpop = false;\n        })\n    },\n    approve(token,address) { //授权\n      console.log(token,address,Net.ERC20abi)\n      var _this = this;\n      var currentToken= new web3.eth.Contract(Net.ERC20abi, address);\n      var value=new BigNumber(10000000).multipliedBy(BigNumber(10).pow(18));\n\n      currentToken.methods\n        .approve(Net.minContact, value)\n        .send({from:_this.address})\n        .then(function (res) {\n          \n        });\n    },\n    // isAllowance(token,index) { //查询是否授权\n    //   var _this = this;\n    //   var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\n    //   console.log(_this.address,Net.minContact)\n    //   currentToken.methods\n    //     .allowance(_this.address,Net.minContact)\n    //     .call({from:_this.address})\n    //     .then(function (res) { \n    //         res > 0?_this.tokens[index].isAllow = false : _this.tokens[index].isAllow = true\n    //         console.log(token+\"授权数量：\"+res /1e18)\n    //     });\n    // },\n    getUserInfo(index){ //我的质押和收益\n      var _this = this;\n      mintContract.methods\n        .userInfo(index,_this.address)\n        .call({from:_this.address})\n        .then(function (res) {\n          _this.tokens[index].myPledge= res.amount / 1e18\n          _this.tokens[index].myIncome =res.rewardDebt  / 1e18\n           console.log(index+\"池子的信息：\"+JSON.stringify(res))\n        });\n    },\n    // getBalance(token,index){ //获取余额\n    //   var _this = this;\n    //   var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\n    //   currentToken.methods\n    //     .balanceOf(_this.address)\n    //     .call({from:_this.address})\n    //     .then(function (res) {\n    //       _this.tokens[index].balance = res / 1e18\n    //        console.log(token+\"余额：\"+res / 1e18)\n    //     });\n    // },\n    // totalPledge(token,index){ //获取总质押\n    //   var _this = this;\n    //   var currentToken= new web3.eth.Contract(Net.ERC20abi, Net[token]);\n    //   currentToken.methods\n    //     .balanceOf(Net.minContact)\n    //     .call({from:_this.address})\n    //     .then(function (res) {\n    //       _this.tokens[index].total = res / 1e18;\n    //        console.log(token+\"总质押：\"+res / 1e18)\n    //     });\n    // },\n    lookCanWithdraw(index){ //查看可提取\n      var _this = this;\n     \n       mintContract.methods\n        .pendingHog(index,_this.address)\n        .call({from:_this.address})\n        .then(function (res) {\n          _this.tokens[index].canWithdraw = res / 1e18;\n           console.log(index+\"池可提取：\"+res / 1e18)\n        });\n    },\n\n    numByPerDay(token,index){ //日产量\n      var _this = this;\n       mintContract.methods\n        .numByPerDay(index)\n        .call({from:_this.address})\n        .then(function (res) {\n          _this.tokens[index].output = res / 1e18;\n           console.log(index+\"日产量：\"+res / 1e18)\n        });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/pledge/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lp_page\"},[_c('div',{staticClass:\"lp_switch\"},[_c('el-switch',{attrs:{\"inactive-color\":\"#BECBD2\",\"active-color\":\"#56C9C2\"},model:{value:(_vm.onlyIn),callback:function ($$v) {_vm.onlyIn=$$v},expression:\"onlyIn\"}}),_vm._v(\"\\n      只看已投\\n    \")],1),_vm._v(\" \"),_vm._l((_vm.tokens),function(value,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(value.invested || !_vm.onlyIn),expression:\"value.invested || !onlyIn\"}],key:index,staticClass:\"hot_lp_item\"},[_c('div',{staticClass:\"new\"}),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"title\",attrs:{\"span\":18}},[_vm._v(_vm._s(value.token))]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":6}},[_c('div',{staticClass:\"icon\"})])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"总质押：\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(\"\\n          \"+_vm._s(value.total)+\" \"+_vm._s(value.token)+\"\\n        \")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"日产量：\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(_vm._s(value.output))])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"当前用户总收益：\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(_vm._s(value.totalIncome)+\"%\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"我的质押：\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(_vm._s(value.myPledge)+\" \"+_vm._s(value.token))])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"我的收益：\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(_vm._s(value.myIncome)+\" HOT\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"col_left\",attrs:{\"span\":12}},[_vm._v(\"可提取\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"col_right\",attrs:{\"span\":12}},[_vm._v(_vm._s(value.canWithdraw)+\" HOT\")])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":20,\"justify\":\"space-between\"}},[_c('el-col',[_c('div',{staticClass:\"button button_border\",on:{\"click\":function($event){return _vm.onWithDraw(index,value.myPledge)}}},[_vm._v(\"撤回\")])]),_vm._v(\" \"),_c('el-col',[_c('div',{staticClass:\"button button_border\",on:{\"click\":function($event){return _vm.showPop(index,value.token)}}},[_vm._v(\"质押\")])])],1),_vm._v(\" \"),(value.isAllow)?_c('div',{staticClass:\"button button_fill\",on:{\"click\":function($event){return _vm.approve(value.token,value.address)}}},[_vm._v(\"授权HOT-HBTC\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"button button_fill\",on:{\"click\":function($event){return _vm.onWithDraw(index,1)}}},[_vm._v(\"领取收益\")]),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"can_use_left\",attrs:{\"span\":16}},[_vm._v(\"可用：\"+_vm._s(value.balance))])],1)],1)}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.vpop),expression:\"vpop\"}],staticClass:\"shadow\"},[_c('div',{staticClass:\"my_form\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"质押 \"+_vm._s(_vm.currentCoin)+\" \"),_c('button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"关闭\")])]),_vm._v(\" \"),_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.currentCoin))]),_vm._v(\" \"),_c('span',{staticClass:\"btn_all\",on:{\"click\":_vm.all}},[_vm._v(\"全部\")])]),_vm._v(\" \"),_c('div',{staticClass:\"balance\"},[_vm._v(\"\\n         余额：\\n          \"),_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.popBalance)+\" \"+_vm._s(_vm.currentCoin))])]),_vm._v(\" \"),_c('div',{staticClass:\"sub_btn\"},[_c('button',{staticClass:\"common_btn\",on:{\"click\":function($event){return _vm.deposit(_vm.index)}}},[_vm._v(\"质押\")])])])])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e4d9158\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pledge/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e4d9158\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e4d9158\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3e4d9158\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pledge/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}