(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3a92"],{"5e5a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lp_page"},[s("div",{staticClass:"lp_switch"},[s("el-switch",{attrs:{"inactive-color":"#BECBD2","active-color":"#56C9C2"},model:{value:t.onlyIn,callback:function(e){t.onlyIn=e},expression:"onlyIn"}}),t._v(" 只看已投 ")],1),t._l(t.tokens,(function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.invested||!t.onlyIn,expression:"value.invested || !onlyIn"}],key:a,staticClass:"hot_lp_item"},[s("div",{staticClass:"new"}),s("el-row",{attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"title",attrs:{span:18}},[t._v(t._s(e.token))]),s("el-col",{staticClass:"col_right",attrs:{span:6}},[s("div",{staticClass:"icon"})])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("总质押：")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(" "+t._s(e.total)+" "+t._s(e.token)+" ")])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("日产量：")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(t._s(e.output))])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("当前用户总收益：")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(t._s(e.totalIncome)+"%")])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("我的质押：")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(t._s(e.myPledge)+" "+t._s(e.token))])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("我的收益：")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(t._s(e.myIncome)+" HOT")])],1),s("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"col_left",attrs:{span:12}},[t._v("可提取")]),s("el-col",{staticClass:"col_right",attrs:{span:12}},[t._v(t._s(e.canWithdraw)+" HOT")])],1),s("el-row",{attrs:{type:"flex",gutter:20,justify:"space-between"}},[s("el-col",[s("div",{staticClass:"button button_border",on:{click:function(s){return t.onWithDraw(a,e.myPledge)}}},[t._v("撤回")])]),s("el-col",[s("div",{staticClass:"button button_border",on:{click:function(s){return t.showPop(a,e.token)}}},[t._v("质押")])])],1),e.isAllow?s("div",{staticClass:"button button_fill",on:{click:function(s){return t.approve(e.token,e.address)}}},[t._v("授权HOT-HBTC")]):t._e(),s("div",{staticClass:"button button_fill",on:{click:function(e){return t.onWithDraw(a,1)}}},[t._v("领取收益")]),s("el-row",{attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"can_use_left",attrs:{span:16}},[t._v("可用："+t._s(e.balance))])],1)],1)})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.vpop,expression:"vpop"}],staticClass:"shadow"},[s("div",{staticClass:"my_form"},[s("div",{staticClass:"title"},[t._v("质押 "+t._s(t.currentCoin)+" "),s("button",{on:{click:t.handleClose}},[t._v("关闭")])]),s("div",{staticClass:"input_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),s("span",[t._v(t._s(t.currentCoin))]),s("span",{staticClass:"btn_all",on:{click:t.all}},[t._v("全部")])]),s("div",{staticClass:"balance"},[t._v(" 余额： "),s("span",{staticClass:"red"},[t._v(t._s(t.popBalance)+" "+t._s(t.currentCoin))])]),s("div",{staticClass:"sub_btn"},[s("button",{staticClass:"common_btn",on:{click:function(e){return t.deposit(t.index)}}},[t._v("质押")])])])])],2)},o=[],n=s("43f7"),l=new web3.eth.Contract(n["a"].Mintabi,n["a"].minContact),i={data:function(){return{drawer:!1,direction:"btt",amount:"",currentCoin:"",popBalance:"--",index:0,tokens:[{pid:0,token:"HT",total:"--",output:"--",totalIncome:12,myPledge:"--",myIncome:"--",balance:"--",invested:!0,address:n["a"].HT,isAllow:!1,canWithdraw:"--"},{pid:1,token:"HUSD",total:"--",output:"--",totalIncome:12,myPledge:"--",myIncome:"--",balance:"--",invested:!0,address:n["a"].HUSD,isAllow:!1,canWithdraw:"--"},{pid:2,token:"HBTC",total:"--",output:"--",totalIncome:12,myPledge:"--",myIncome:"--",balance:"--",invested:!1,address:n["a"].HBTC,isAllow:!1,canWithdraw:"--"},{pid:3,token:"BAGS",total:"--",output:"--",totalIncome:12,myPledge:"--",myIncome:"--",balance:"--",invested:!1,address:n["a"].BAGS,isAllow:!1,canWithdraw:"--"}],onlyIn:!1,showPool:!0,address:"",vpop:!1}},mounted:function(){var t=this;t.$getAddress(),setTimeout((function(){t.isAllowance("HT",0),t.isAllowance("HUSD",1),t.isAllowance("HBTC",2),t.isAllowance("BAGS",3),t.getUserInfo(0),t.getUserInfo(1),t.getUserInfo(2),t.getUserInfo(3),t.getBalance("HT",0),t.getBalance("HUSD",1),t.getBalance("HBTC",2),t.getBalance("BAGS",3),t.totalPledge("HT",0),t.totalPledge("HUSD",1),t.totalPledge("HBTC",2),t.totalPledge("BAGS",3),t.lookCanWithdraw(0),t.lookCanWithdraw(1),t.lookCanWithdraw(2),t.lookCanWithdraw(3),t.numByPerDay("HT",0),t.numByPerDay("HUSD",1),t.numByPerDay("HBTC",2),t.numByPerDay("BAGS",3)}),1e3);var e=t.BigNumber(1e7),s=e.multipliedBy(t.BigNumber(10).pow(18));console.log("测试BIGnumber:"+s)},methods:{onWithDraw:function(t,e){var s=this,a=s.BigNumber(e).multipliedBy(s.BigNumber(10).pow(18));console.log("index:"+t,"value:"+a),l.methods.withdraw(t,a).send({from:s.address}).then((function(e){s.getUserInfo(t)}))},showDraw:function(){this.drawer=!0},all:function(){this.amount=this.popBalance},handleClose:function(){this.vpop=!1,this.index="",this.currentCoin="",this.popBalance=""},showPop:function(t,e){var s=this;this.vpop=!0,this.index=t,this.currentCoin=e,this.popBalance=s.tokens[t].balance,console.log("index:"+this.index+"balance:"+this.popBalance)},deposit:function(t){var e=this,s=e.BigNumber(e.amount).multipliedBy(e.BigNumber(10).pow(18));console.log("index:"+t,"value:"+s),l.methods.deposit(t,s).send({from:e.address}).then((function(s){e.getUserInfo(t),e.vpop=!1}))},approve:function(t,e){console.log(t,e,n["a"].ERC20abi);var s=this,a=new web3.eth.Contract(n["a"].ERC20abi,e),o=s.BigNumber(1e7),l=o.multipliedBy(s.BigNumber(10).pow(18));console.log("测试BIGnumber2:"+web3.utils.isBigNumber(l)),a.methods.approve(n["a"].minContact,l).send({from:s.address}).then((function(t){}))},isAllowance:function(t,e){var s=this,a=new web3.eth.Contract(n["a"].ERC20abi,n["a"][t]);console.log(s.address,n["a"].minContact),a.methods.allowance(s.address,n["a"].minContact).call({from:s.address}).then((function(a){s.tokens[e].isAllow=!(a>0),console.log(t+"授权数量："+a/1e18)}))},getUserInfo:function(t){var e=this;l.methods.userInfo(t,e.address).call({from:e.address}).then((function(s){e.tokens[t].myPledge=s.amount/1e18,e.tokens[t].myIncome=s.rewardDebt/1e18,console.log(t+"池子的信息："+JSON.stringify(s))}))},getBalance:function(t,e){var s=this,a=new web3.eth.Contract(n["a"].ERC20abi,n["a"][t]);a.methods.balanceOf(s.address).call({from:s.address}).then((function(a){s.tokens[e].balance=a/1e18,console.log(t+"余额："+a/1e18)}))},totalPledge:function(t,e){var s=this,a=new web3.eth.Contract(n["a"].ERC20abi,n["a"][t]);a.methods.balanceOf(n["a"].minContact).call({from:s.address}).then((function(a){s.tokens[e].total=a/1e18,console.log(t+"总质押："+a/1e18)}))},lookCanWithdraw:function(t){var e=this;l.methods.pendingHog(t,e.address).call({from:e.address}).then((function(s){e.tokens[t].canWithdraw=s/1e18,console.log(t+"池可提取："+s/1e18)}))},numByPerDay:function(t,e){var s=this;l.methods.numByPerDay(e).call({from:s.address}).then((function(t){s.tokens[e].output=t/1e18,console.log(e+"日产量："+t/1e18)}))}}},c=i,r=s("2877"),d=Object(r["a"])(c,a,o,!1,null,"18602c63",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d3a92.da1e06e4.js.map